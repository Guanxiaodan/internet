# 互联网协议入门
> 参考：http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html
## 概述

### 五层模型
####（偏向于硬件）实体层--->链接层--->网络层--->传输层--->应用层（偏向于用户）

### 实体层
把电脑连接起来的物理手段。例如光缆，电缆，双绞线，无线电波等方式。
作用是负责传输 **0和1** 的电信号。

### 链接层
#### 以太网
单纯的 0和1 没有任何意义， 所以链接层主要是确定 0和1 的**分组方式**。
一种叫 **"以太网"** 的协议，占据了分组方式的主导地位。

以太网规定，一组电信号构成一个数据包，叫做一 **"帧"** ，一帧分为**标头（Head）** 和 **数据（Data）**。

标头：数据包的说明项，比如 **发送者、接收者**、数据类型等。

数据：数据包的具体内容。

#### MAC地址
上面说到发送者和接收者，那么他们是如何被标识的呢？
 
 答：以太网规定所有接入网络的设备，都必须有**网卡**接口，也就是说数据包是从一个网卡传输到另一个网卡，
 网卡的地址就叫**MAC地址**，这就是数据包的发送地址和接受地址。
 每块网卡的地址都是世界上 *独一无二* 的，用12个十六进制数表示。
 
 #### 广播
 那么发送方网卡怎么知道接收方网卡的MAC地址？
 
 答：有一种叫ARP的协议（后面说），可以解决这个问题。这里只要了解到以太网数据包必须知道接收方的MAC地址才能发送就好。
 
 现在有了MAC地址，系统怎样才能把数据包准确传输给接收方？
 
 答：以太网采用了一种原始的方式：以太网项本网络的所有计算机发送数据包，每台电脑自己判断自己是不是接收方。
 如果标头的接收方MAC地址和自己的Mac地址匹配上了，就接受数据包，否则就丢弃数据包。这种发送方式就叫做**"广播"**。
 
 ##### 有了数据包，发送和接受的Mac地址，以及广播的发送方式，链路层就可以在多台计算机之间传输数据了。
 
 ### 网络层
 #### 由来
上面那种广播的方式，不仅效率低，而且局限在发送者所在的局域网。
所以，如光想让北京的计算机给洛杉矶的计算机发一封邮件，几乎是不可能的，因为北京和洛杉矶出于同一个局域网的可能性几乎没有。

所以得找到一种方法，能后区分那些Mac地址属于同一个子网络，哪些不是。如果在同一个子网络，就用广播的方式发送，否则就用**路由**的方式发送。
（路由就是指如何向不同的子网络发送数据包）。但是Mac无法做到，他只能区分厂家，无法区分网络。
所以，就导致了**网络层**的诞生。
##### 网络层的作用是引进一套新的地址，利用这套地址可以使我们看出来不同的计算机是否属于同一个**子网络**，指套地址就叫做网络地址，简称'网址'。

 这网络层出现后，每台计算机就有了两种地址：**Mac地址**和**网络地址**，这两种地址之间没有任何联系。MAC地址是绑定在网卡上的，网络地址是管理员分配的。
 
 ##### 于是乎：网址帮我们确定计算机所在的子网络，然后MAC地址将数据包送到子网络中的目标网卡。
 
 #### IP
 规定网络地址的协议称为**IP协议**，，他所定义的地址就称为IP地址（其实就是网址）；
 
 目前采用的IP协议是第四版（IPv4），这个版本规定网络地址由32个二进制位组成。
  // 该黑图片下面了